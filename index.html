<!DOCTYPE html>
<html>

<head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <title>Authenticated solition Checkout V3</title>
    <script language="javascript">
        var script = document.createElement('script');
        var url = "https://ecom.dev.payex.com/checkout/core/js/px.checkout.client.js?token=056a0258b2455266e54317fc8fe10ac2605632725da5c75dbe68f09aa3f15305&culture=sv-SE";
   
        script.setAttribute('src', url);

        script.onload = function () {

            window.payex.hostedView.checkout({
                container: {
                    checkoutContainer: "checkout",
                },
                culture: 'nb-No',
                onCheckoutLoaded: function onCheckoutLoaded(ApplicationConfigured) {
                            
                            console.log(ApplicationConfigured);
                        },
                        onCheckoutResized: function onCheckoutResized(ApplicationConfigured) {
                            
                            console.log(ApplicationConfigured);
                        },
                        onLoggedOut: function onLoggedOut(LoggedOut) {
                            
                            console.log(LoggedOut);
                        },
                      
                         onError: function onError(Error) {
                            
                            console.log(Error);
                         },
                        onTermsOfServiceRequested: function onTermsOfServiceRequested(PaymentTermsOfService) {
                            
                            console.log(PaymentTermsOfService);
                        },
                        onPaymentToS: function  onPaymentToS(PaymentToS) {
                           
                            console.log(PaymentToS);
                        },
                        onExternalRedirect: function onExternalRedirect(ExternalRedirect) {
                          
                            console.log(ExternalRedirect);
                        },
                        onPaymentCompleted: function onPaymentCompleted(PaymentCompleted) {
                           
                            console.log(PaymentCompleted);
                        },
                        onPaid: function onPaymentPaid(PaymentPaid){
                            console.log(PaymentPaid);
                        },
                        onPaymentCanceled: function onPaymentCanceled(PaymentCanceled) {
                           
                            console.log(PaymentCanceled);
                        },
                        onAborted: function onPaymentAborted(PaymentAborted) {
                           
                            console.log(PaymentAborted);
                        },
                        onFailed: function onPaymentFailed(PaymentFailed) {
                            
                            console.log(PaymentFailed);
                        },
                        onPaymentMenuInstrumentSelected: function onPaymentMenuInstrumentSelected(PaymentInstrumentSelected) {
                            
                            console.log(PaymentInstrumentSelected);
                        },
                        onInstrumentSelected: function onInstrumentSelected(PaymentInstrumentSelected) {
                            
                            console.log(PaymentInstrumentSelected);
                        },
                        onOutOfViewOpen: function onOutOfViewOpen(OutOfViewOpen) {
                            
                            console.log(OutOfViewOpen);
                        },
                        onOutOfViewRedirect: function onOutOfViewRedirect(OutOfViewOpen) {
                           
                            console.log(OutOfViewOpen);
                        },
                        onEventNotification: function onEventNotification(eventNotification) {
                            
                            console.log(eventNotification);
                        },
            }).open();

            setTimeout(() => {
                document.getElementById("closeCheckout").style.visibility = "visible";
            }, 1500);

        };
        // Append the Payment Menu script to the <head>
        var head = document.getElementsByTagName('head')[0];
        head.appendChild(script);


    </script>
</head>

<body>
    <div style="display:flex;justify-content: center;width: 100%;min-height: 500px;align-items: center;">
        <div style="display:flex;flex-direction:column; align-items: center; width: 70%;">
            <div id="alert" style="color: #690422; font-weight: 600;font-size: 25px; margin:10px"></div>
            <div id="checkout" style="width: 100%;"></div>
        </div>
        <div style="display:flex;justify-content: space-around;width: 20%; flex-direction: column;min-height: 150px;">
            <button id="closeCheckout"
                style="visibility: hidden; color:#fff;padding: 15px 22px; background-color: #690422; font-weight: 600;"
                onclick="closeCheckout()">Close Checkout</button>
        </div>
    </div>
    <script language="javascript">

        function closeCheckout() {
            window.payex.hostedView.checkout().close("checkin");

            document.getElementById("closeCheckout").style.visibility = "hidden";
            document.getElementById("alert").innerHTML = "Checkout has been closed";
        };

    </script>

</body>

</html>
